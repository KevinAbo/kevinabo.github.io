(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{361:function(a,e,s){"use strict";s.r(e);var t=s(42),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"内存泄露检测工具valgrind的安装及使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内存泄露检测工具valgrind的安装及使用"}},[a._v("#")]),a._v(" 内存泄露检测工具Valgrind的安装及使用")]),a._v(" "),s("h3",{attrs:{id:"_1-获取源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-获取源码"}},[a._v("#")]),a._v(" 1.获取源码")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("wget http://www.valgrind.org/downloads/valgrind-3.14.0.tar.bz2\n")])])]),s("h3",{attrs:{id:"_2-解压缩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-解压缩"}},[a._v("#")]),a._v(" 2.解压缩")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("tar -jxvf valgrind-3.14.0.tar.bz2 \n")])])]),s("h3",{attrs:{id:"_3-进入目录-进行安装-其中-home-user1-valgrind是你想安装的目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-进入目录-进行安装-其中-home-user1-valgrind是你想安装的目录"}},[a._v("#")]),a._v(" 3.进入目录,进行安装,其中/home/user1/valgrind是你想安装的目录")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd valgrind-3.14.0\n./configure --prefix=/home/user1/valgrind\nmake\nmake install\n")])])]),s("h3",{attrs:{id:"_4-配置环境变量-首先打开-bashrc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置环境变量-首先打开-bashrc"}},[a._v("#")]),a._v(" 4.配置环境变量，首先打开~/.bashrc")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vim ~/.bashrc\n")])])]),s("p",[a._v("将下面一段话考入该文件")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("export PATH=$PATH:~/valgrind/bin/\n")])])]),s("p",[a._v("使改变生效")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("source ~/.bashrc\n")])])]),s("h3",{attrs:{id:"_5-使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-使用"}},[a._v("#")]),a._v(" 5.使用")]),a._v(" "),s("p",[a._v("建立文件val")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vim val\n")])])]),s("p",[a._v("假设想要检测的执行文件是main,并且想把检测结果输入到文件valgrind_report.log中，就将下面一段话考入val文件中")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("valgrind --tool=memcheck --leak-check=yes --show-reachable=yes --run-libc-freeres=yes --log-file=./valgrind_report.log ./main  $@\n")])])]),s("p",[a._v("如果只是想把结果打印到屏幕上，就将下面一段话考入val文件中")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("valgrind --tool=memcheck --leak-check=yes --show-reachable=yes --run-libc-freeres=yes ./main\n")])])]),s("p",[a._v("最后改变文件的执行权限")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("chmod +777 val\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);